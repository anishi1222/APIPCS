# プランの作成

APIでアプリケーションキーの使用を強制している場合、APIへのアプリケーションのアクセスは常にAPIプランの管理対象です。プランに対する資格をAPIに与えても、すべての利用状況が*不明なアプリケーション*の下で追跡される場合には、APIはアプリケーションキーの使用を強制されないことがあることを理解しておくことが重要です。

*キー検証*ポリシーを使用するAPIでは、プランに対する資格が付与されていて、アプリケーション・キーを持ち、そのアプリケーションもプランに対する資格を有している必要があります。このプランは、アプリケーションとAPIの*会合場所*であり、プランは、APIの集合にわたるクライアント（アプリケーション）に応じて制限を定義する機能を提供します。

## 始める前に

- 利用可能なAPI Platform Cloud Service環境を有している必要があります。API Platform Cloud Service環境の調達の詳細については、[環境](../../../../../environments/README.md)を参照してください。

## プランを作成する

### API Platform Cloud Serviceにログイン

1. 選択した環境の説明に従って、ブラウザに管理ポータルのURLを指定します。
   > このURLは、選択した[環境](../../../../environments/README.md)に基づいていますが、形式は `http(s)://<host>：<port>/apiplatform`です。
1. *Plan Manager*ロールを持つユーザーとしてログインします。

### 新しいプランを作成する

1. *プラン*メニューが表示されていることを確認します。左上に*プラン*、右側に*作成*ボタンが表示されます。これが表示されない場合は、左側のメニューボタンを選択し、*プラン*を選択します。
1. *作成*ボタンをクリックします。
1. DeveloperPlanといった名前とプランのバージョンを入力します。説明を入力することもできます。
   > 共有環境を使用している場合は、シーケンスを使用してプラン名を一意に保っていることを確認してください。
1. プランを作成すると、プランのリストにそのプランが表示されます。プラン名をクリックして編集を続行してください。
1. *設定*サイドタブを選択します。プランを無制限のままにするか、レート制限を設定するかを選択できます。 DeveloperPlanモデルを保持するには、次のように制限を設定します。
    - 10リクエスト数/分

プロビジョニングしたAPIプラットフォームのインスタンスを使用している場合は、*Development*ゲートウェイまたはあなたがデプロイしたゲートウェイを選択します。

## 結論

このチュートリアルでは、次のことを学びました。

- API Platform Cloud Serviceでプランを作成する方法
- プランの制限を設定する方法
- プランをデプロイできるゲートウェイを指定する方法

## 次のステップ

- [プランへのAPIの資格付与](../../apis/entitle_api)
